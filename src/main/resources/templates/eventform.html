<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en">
 
    <title>Edit Event</title>
 
    <!--/*/ <th:block th:include="fragments/headincludes :: head"></th:block> /*/-->
    
    <link href="../static/css/products.css" th:href="@{/css/products.css}" rel="stylesheet" media="screen"/>
	
</head>
<body>
<div class="container-fluid">
    <!--/*/ <th:block th:include="fragments/header :: header"></th:block> /*/-->
    
    <div class="row">
    	<div class="col-lg-2">
        	<leftnav><!--/*/ <th:block th:include="fragments/leftnav :: leftnav"></th:block> /*/--></leftnav>
        </div>
 	
 	<div class="col-lg-10">
    <h2>Product Details</h2>
    
        <form class="form-horizontal" th:object="${event}" th:action="@{/admin/events}" method="post" enctype="multipart/form-data">
            <input type="hidden" th:field="*{pkEventId}"/>
            
            
            
            <!-- <div class="form-group">
                <label class="col-sm-2 control-label">Product Id:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" th:field="*{pkProductId}"/>
                </div>
            </div> -->
            
            
            <div class="form-group">
                <label class="col-sm-2 control-label">Event Name:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" th:field="*{eventName}"/>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Description:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" th:field="*{eventDescription}"/>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Begin Date:</label>
                <div class="col-sm-10">
                    <input type="date" class="form-control" name="bDate" th:value="*{dateBegin}"/>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">End Date:</label>
                <div class="col-sm-10">
                    <input type="date" class="form-control" name="eDate" th:value="*{dateEnd}"/>
                </div>
            </div>
            
            <div class="form-group">
                <label class="col-sm-2 control-label">Discount Percentage:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" pattern="[0-9]{1,2}" name="discount" th:value="${discount}"/>
                </div>
            </div>
            
            <div class="form-group">
                <label class="col-sm-2 control-label">Event Image:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="eventImageUri" name="eventImageUri" th:value="*{eventImageUri}" readonly="true" />
                    
                    <img class="editform-img" id="eventImg" th:src="@{__*{eventImageUri}__}">
                    
                    <br>
                    <input type="file" id="eventFileChooser" name="eventFileChooser" accept="image/*" th:value="*{eventImageUri}" >
                    <script>
                    	$('#eventFileChooser').change(function(e){
                    		if (this.files && this.files[0]) {
                    			var reader = new FileReader();
                    			$('#eventImageUri').attr('value', "/images/events/" + e.target.files[0].name);                    			                        			    
                			    reader.onload = function(ev) {
                			        $('#eventImg').attr('src', ev.target.result);
                    			}
                			    reader.readAsDataURL(this.files[0]);
                    		}
                    	});
                    </script>
                </div>
            </div>
                        
            <br>
            <br>
                   
            
            <div class="row">
                <button type="submit" class="btn btn-default bg-dark text-white">Update Event</button>
            </div>
        </form>
    </div>
</div>
</div>
<br>
<br>

<!-- Footer -->
    <footer class="py-5 bg-dark">
		<!--/*/ <th:block th:include="fragments/footer :: footer"></th:block> /*/-->
    </footer>
 
</body>
</html>